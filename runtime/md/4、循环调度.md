# 循环调度

- 启动运行时调度器，代码位于`src/runtime/rt0_linux_amd64.s`

```c
	(...)
	
	CALL	runtime·args(SB)		// 系统的一些变量 cpu，内存等
	CALL	runtime·osinit(SB)	// TODO
	CALL	runtime·schedinit(SB)	// 调度器初始化，M 与 P

	// create a new goroutine to start program
	MOVQ	$runtime·mainPC(SB), AX		// entry
	PUSHQ	AX
	PUSHQ	$0			// arg size
	CALL	runtime·newproc(SB) 	// G初始化
	POPQ	AX
	POPQ	AX
    
 	// start this M  启动 M
	CALL	runtime·mstart(SB)
    
  (...)
```

## 执行准备

代码位于`src/runtime/proc.go`

```go
func mstart()
```



